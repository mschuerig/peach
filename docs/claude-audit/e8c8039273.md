---
commit: "e8c8039273f9078f2278681bda190f928c845d68"
date: "2026-02-22T18:42:56+01:00"
author: "Michael SchÃ¼rig <michael@schuerig.de>"
subject: "Add story for displaying current difficulty on training screen"
sessions: ["3b5d3224-528d-4df3-96a9-72ad73641874"]
prev: "c4d2c2baa5.md"
next: "9d8d8ea9ce.md"
---

[â† Previous (c4d2c2baa5)](c4d2c2baa5.md) | [Index](index.md) | [Next (9d8d8ea9ce) â†’](9d8d8ea9ce.md)

# Commit e8c8039273

**Date:** 2026-02-22 18:42:56 UTC+01:00  
**Author:** Michael SchÃ¼rig <michael@schuerig.de>

## Commit message

Add story for displaying current difficulty on training screen

Co-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>

## Changed files

```
...isplay-current-difficulty-on-training-screen.md | 122 +++++++++++++++++++++
 1 file changed, 122 insertions(+)
```

## Session `3b5d3224â€¦`

*2026-02-22 17:24:04 UTC â†’ 2026-02-22 17:43:49 UTC*

### ğŸ§‘ Human (17:24:04)

<command-message>bmad-help</command-message>
<command-name>/bmad-help</command-name>
<command-args>How can I add several agents to a session, however, not all as in party mode?</command-args>

### ğŸ¤– Assistant (17:24:14)

Let me check the party mode workflow and the core config for context.

### ğŸ¤– Assistant (17:24:31)

Good question, Michael! BMAD offers a couple of approaches for working with specific agents without loading the entire roster like Party Mode does:

## Loading Individual Agents

Each BMAD workflow already loads a **single dedicated agent** for that task. But if you want to have a **custom subset** of agents in one session, here are your options:

### Option 1: Sequential Agent Loading (Built-in)

You can load agents one at a time in the same session using their agent commands from the CSV. For example, to bring in just the Architect and the PM:

1. Load Winston (Architect): use the `/bmad:agent:architect` agent command
2. Then also load John (PM): use the `/bmad:agent:pm` agent command

Each agent's command follows the pattern visible in the `agent-command` column of the help catalog.

### Option 2: Party Mode with Targeted Requests

Run `/bmad-party-mode` but immediately tell the facilitator which specific agents you want involved. Party Mode's **Agent Selection Intelligence** (lines 89-101 of the workflow) already supports this â€” if you address specific agents by name, it prioritizes those agents + 1-2 complementary ones. You can explicitly say:

> "For this session, I only want Winston (Architect) and John (PM) to participate. No other agents."

The facilitator will respect that constraint.

### Option 3: Workflow-Driven Multi-Agent

Some workflows naturally chain through multiple agents across sessions (e.g., the implementation cycle goes SM -> Dev -> Dev for code review). Each step is a fresh context window with the appropriate agent loaded.

---

**Recommendation:** If you want a collaborative discussion between a few specific agents, use **Option 2** â€” start Party Mode and constrain it to your chosen agents. If you want agents working sequentially on different tasks, use the individual workflow commands in separate sessions (Option 3).

### ğŸ§‘ Human (17:26:45)

<command-message>bmad-party-mode</command-message>
<command-name>/bmad-party-mode</command-name>
<command-args>Only load agents for creating stories and UX design.</command-args>

### ğŸ¤– Assistant (17:26:51)

Now let me load the agent manifest and the discussion orchestration step.

### ğŸ¤– Assistant (17:26:58)

Now let me load the specific agent files for the requested agents.

### ğŸ¤– Assistant (17:27:16)

---

**Party Mode Activated! (Focused Session)**

Welcome Michael! I've assembled a focused team for you today â€” just the agents you need for **story creation** and **UX design**. No crowd, no noise, just the right experts at the table.

**Your team for this session:**

ğŸƒ **Bob** (Scrum Master) â€” Crisp, checklist-driven story preparation specialist. Zero tolerance for ambiguity. Every requirement crystal clear. He'll make sure your stories are actionable and developer-ready.

ğŸ“‹ **John** (Product Manager) â€” The "WHY?" detective. 8+ years launching products, expert in user-centered requirements. He'll keep stories grounded in real user value and cut through the fluff.

ğŸ¨ **Sally** (UX Designer) â€” Empathetic storyteller with 7+ years crafting intuitive experiences across web and mobile. She'll make sure the user's perspective is front and center in every story.

---

ğŸƒ **Bob**: Michael, good to have you. Three agents, tight focus â€” exactly how I like it. Before we dive in, let me lay it out: I handle story structure, acceptance criteria, and making sure devs get crystal-clear specs. John keeps us honest on the *why*, and Sally makes sure we never forget the human on the other end. What are we working on today?

ğŸ¨ **Sally**: Oh, I love a small team session! Imagine this, Michael â€” instead of a crowded room where ideas get lost, it's just us three around a whiteboard, coffee in hand, sketching out what the user *actually* experiences. I'm ready to paint the picture of every interaction, every moment of delight or frustration. What story are we telling today?

ğŸ“‹ **John**: Right. Three perspectives, zero waste. I've got one question before we start â€” and you know I'm going to keep asking it: *What problem are we solving, and for whom?* Give me that, and we'll build stories that actually matter.

---

**John asks: What would you like us to work on today, Michael? A specific feature, a set of stories, or a UX challenge you're thinking through?**

_[Awaiting your response...]_

`[E] Exit Party Mode - End the collaborative session`

### ğŸ§‘ Human (17:35:06)

I want you to create a story and UX design for "Display Current Difficulty on Training Screen" from future-work.md. For the design, I suggest you put the display at the top of the body.

### ğŸ¤– Assistant (17:35:09)

Let me pull up the relevant project documentation first.

### ğŸ¤– Assistant (17:35:16)

Now let me look at the current Training Screen and related code to understand the existing UI.

### ğŸ¤– Assistant (17:35:22)

Let me also check the existing story format and project docs to stay consistent.

### ğŸ¤– Assistant (17:35:35)

Now I have full context. Let me also quickly check the UX design specification for the Training Screen section to understand the visual hierarchy.

### ğŸ¤– Assistant (17:36:44)

Alright, the team has reviewed the codebase. Let me bring them in.

---

ğŸ“‹ **John**: Okay, I've read the future-work entry and the existing Training Screen code. Let me cut straight to the *why* before we spec anything.

**The user problem is clear:** During training, you're flying blind. You have no idea if you're being challenged at 50 cents or 2 cents. That matters because musicians *want* to know how fine their discrimination is â€” it's the whole point of the app. And a "session best" gives you a micro-goal without turning this into gamification.

But here's my constraint check â€” the UX spec says the Training Screen should be "radically simple" with "no stats, no counters, no progress bars during training." So we need to thread the needle: **inform without distracting**. Your suggestion to put it at the top of the body is good â€” it's visible but spatially separated from the core interaction area (the buttons).

One question for the team before we write this up: the future-work entry mentions "possibly optional/toggleable." I say we skip the toggle for now â€” ship it visible, see if anyone complains. The toggle is Settings scope creep for what should be a small addition. Bob, Sally â€” thoughts?

ğŸ¨ **Sally**: Love that instinct, John. Let me paint the picture of what this *feels* like for the user.

Imagine you're in the zone â€” tap, listen, tap, listen. Your eyes are soft-focused or even closed. Now picture a quiet little number at the top of the screen â€” like a whisper, not a shout. When you glance up between comparisons, you see "**4.2 cents**" and you think *wow, I'm really dialing in*. Maybe next to it, a smaller "**Best: 2.1 cents**" â€” your session high-water mark.

Here's what I'm designing for:
- **The number must not compete with the buttons.** The Higher/Lower buttons own the screen. The difficulty display is a footnote, not a headline.
- **Top of the body is perfect.** It sits in the "information zone" above the "action zone." The user's gaze can drift up to check, then back down to the buttons.
- **Session best adds motivation without gamification.** It's not a score â€” it's a fact. "The finest difference you correctly identified this session." That's meaningful to a musician.

On John's toggle question â€” I agree, ship it visible. The display is small and unobtrusive. If it bothers someone, that's a future Settings item. Don't over-engineer the first version.

For the visual design, here's my recommendation:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Training            âš™ï¸  ğŸ“Š    â”‚  â† nav bar (existing)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚    Current: 4.2 Â¢               â”‚  â† NEW: difficulty display
â”‚    Session best: 2.1 Â¢          â”‚     secondary text, muted color
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚         â–²  Higher               â”‚  â† existing button
â”‚                                 â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚         â–¼  Lower                â”‚  â† existing button
â”‚                                 â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Key design decisions:
- **Typography**: `.caption` or `.footnote` for current difficulty, even smaller for session best. System `.secondary` color. It should feel like a dashboard instrument reading, not a headline.
- **"Â¢" symbol** instead of spelling out "cents" â€” compact, universally understood in music theory contexts.
- **Left-aligned** â€” reads naturally, doesn't fight for center-screen attention (that belongs to the feedback indicator overlay).
- **No animation** on the number change. It just updates. Animating it would draw the eye and violate the "calm" principle.
- **Accessibility**: VoiceOver should read "Current difficulty: 4.2 cents. Session best: 2.1 cents." â€” full words, not abbreviations.

One nuance: the session best should only appear *after* the user gets at least one correct answer. Before that, just show "Current: 100.0 Â¢" (the starting difficulty). This avoids a confusing empty state.

ğŸƒ **Bob**: Good analysis, both of you. Let me get this into story shape. Here's what I'm writing up:

---

## Story: Display Current Difficulty on Training Screen

**As a** musician using Peach,
**I want** to see the current difficulty level (cent difference) and my session best during training,
**So that** I can understand how fine my pitch discrimination is being challenged and track my best performance within a session.

### Acceptance Criteria

1. **Given** the Training Screen is active, **When** a comparison is generated, **Then** the current cent difference is displayed at the top of the body area, above the Higher/Lower buttons, using secondary-styled text (`.footnote`, `.secondary` color) with the format `Current: X.X Â¢`

2. **Given** the user answers a comparison correctly, **When** the cent difference of that comparison is smaller than the current session best (or no session best exists yet), **Then** the session best updates and displays as `Session best: X.X Â¢` below the current difficulty line

3. **Given** training has just started, **When** no correct answer has been given yet, **Then** only the current difficulty line is shown (no session best line)

4. **Given** the difficulty display is visible, **When** the user is interacting with the Higher/Lower buttons, **Then** the display does not interfere with button taps, feedback indicator overlay, or the calm visual aesthetic of the Training Screen

5. **Given** VoiceOver is enabled, **When** the difficulty display is present, **Then** it reads as "Current difficulty: X.X cents" and "Session best: X.X cents" (full words, not abbreviations)

6. **Given** the user navigates away from the Training Screen and returns, **When** training restarts, **Then** the session best resets (session-scoped, not persisted)

### Tasks / Subtasks

- [ ] Task 1: Add `sessionBestCentDifference` tracking to `TrainingSession` (AC: #2, #3, #6)
  - [ ] Add `sessionBestCentDifference: Double?` observable property (nil until first correct answer)
  - [ ] Update `handleAnswer()` to track smallest cent difference on correct answers
  - [ ] Reset session best in `stop()` (session-scoped lifecycle)
  - [ ] Write unit tests for session best tracking

- [ ] Task 2: Create `DifficultyDisplayView` component (AC: #1, #2, #3, #4)
  - [ ] Create `Peach/Training/DifficultyDisplayView.swift`
  - [ ] Display current difficulty formatted as `Current: X.X Â¢` (one decimal place)
  - [ ] Conditionally display session best as `Session best: X.X Â¢`
  - [ ] Use `.footnote` font, `.secondary` foreground style
  - [ ] Left-aligned, compact layout
  - [ ] No animations on value changes

- [ ] Task 3: Integrate into `TrainingScreen` layout (AC: #1, #4)
  - [ ] Add `DifficultyDisplayView` at the top of the body `VStack`/`HStack`
  - [ ] Bind to `trainingSession.currentComparison?.centDifference` and `trainingSession.sessionBestCentDifference`
  - [ ] Ensure layout does not push buttons down significantly or interfere with feedback overlay
  - [ ] Verify in landscape (compact height) layout

- [ ] Task 4: Accessibility (AC: #5)
  - [ ] Add `.accessibilityLabel` with full text: "Current difficulty: X.X cents"
  - [ ] Add `.accessibilityLabel` for session best: "Session best: X.X cents"
  - [ ] Test with VoiceOver

- [ ] Task 5: Verify visual integration (AC: #4)
  - [ ] Test in portrait and landscape on iPhone
  - [ ] Test on iPad
  - [ ] Test in light and dark mode
  - [ ] Verify feedback indicator overlay still renders correctly
  - [ ] Verify difficulty display is visually subordinate to Higher/Lower buttons

---

ğŸƒ **Bob**: That's the story. Clean, five tasks, no scope creep. One thing I want to flag â€” we expose `currentComparison` as a private property in `TrainingSession` right now. We'll need to either make `centDifference` available through a public computed property or expose `currentComparison` read-only. I'd recommend a computed property like `currentDifficulty: Double?` that returns `currentComparison?.centDifference` â€” keeps the encapsulation clean.

ğŸ“‹ **John**: Solid. One thing I want to be explicit about â€” the "Â¢" symbol. It's standard in music theory (cents notation), but let's make sure it localizes properly. The existing app supports English and German. In both languages, "cent" is the same term, so `Â¢` works universally. No localization issue there.

ğŸ¨ **Sally**: And I want to stress â€” **no animation** on the number changes. The value just updates quietly. If we animate it, it becomes a visual event that competes for attention every single comparison. The training loop fires every 2-3 seconds. That's a blinking number. No one wants that.

Also, for landscape mode, the difficulty display should sit *above* the `HStack` of buttons, not to the side. Keep the spatial hierarchy consistent: info on top, actions below.

---

ğŸ“‹ **John**: Michael, the story and UX design are ready above. Does this match what you had in mind, or would you like us to adjust anything â€” the visual placement, the session best behavior, the formatting?

_[Awaiting your response...]_

`[E] Exit Party Mode - End the collaborative session`

### ğŸ§‘ Human (17:38:31)

e

### ğŸ¤– Assistant (17:38:39)

ğŸƒ **Bob**: Clean exit. Let me wrap this up.

ğŸ¨ **Sally**: It was great sketching this out together, Michael! The difficulty display is going to be a nice, quiet addition â€” musicians will appreciate knowing where they're at without the screen shouting about it.

ğŸ“‹ **John**: Good session. Tight scope, clear story, no fluff. When you're ready to implement, the story has everything the dev agent needs.

ğŸƒ **Bob**: Alright, party's over. Summary of what we produced:

**Deliverables from this session:**
1. **User Story** â€” "Display Current Difficulty on Training Screen" with 6 acceptance criteria and 5 tasks
2. **UX Design** â€” Difficulty display at top of body, left-aligned, `.footnote`/`.secondary` styling, `Â¢` notation, session best shown conditionally after first correct answer
3. **Technical notes** â€” Expose `currentDifficulty` as computed property on `TrainingSession`, add `sessionBestCentDifference` tracking, reset on `stop()`

Would you like me to save the story as a markdown file to your implementation artifacts?

### ğŸ§‘ Human (17:39:04)

yes, save it

### ğŸ¤– Assistant (17:39:48)

Saved to `docs/implementation-artifacts/display-current-difficulty-on-training-screen.md` with status `draft`. It includes the full story, acceptance criteria, tasks, UX wireframe, design decisions, and technical notes from the session.

### ğŸ§‘ Human (17:42:45)

commit

### ğŸ¤– Assistant (17:42:58)

Committed as `e8c8039`.

### ğŸ§‘ Human (17:43:49)

<command-name>/exit</command-name>
            <command-message>exit</command-message>
            <command-args></command-args>

### ğŸ§‘ Human (17:43:49)

<local-command-stdout>Goodbye!</local-command-stdout>

---

[â† Previous (c4d2c2baa5)](c4d2c2baa5.md) | [Index](index.md) | [Next (9d8d8ea9ce) â†’](9d8d8ea9ce.md)
