---
commit: "90d2b887682c6724422bffd7f591a327baf37e53"
date: "2026-02-18T14:27:29+01:00"
author: "Michael SchÃ¼rig <michael@schuerig.de>"
subject: "Update future work inventory and README project status"
sessions: ["87108c2e-1d50-4691-860c-5f8a0f0d1662"]
prev: "a68a6688c9.md"
next: "b792411101.md"
---

[â† Previous (a68a6688c9)](a68a6688c9.md) | [Index](index.md) | [Next (b792411101) â†’](b792411101.md)

# Commit 90d2b88768

**Date:** 2026-02-18 14:27:29 UTC+01:00  
**Author:** Michael SchÃ¼rig <michael@schuerig.de>

## Commit message

Update future work inventory and README project status

Comprehensive review of app state identified bugs, UX gaps, and improvement
ideas. Added 15 new entries to future-work.md covering audio clicks, feedback
flicker, reset consistency, profile redesign, onboarding, difficulty display,
progress tracking, rolling window, and more. Updated README with Project Status
section and corrected Swift version.

Co-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>

## Changed files

```
README.md                                    |   8 +-
 docs/implementation-artifacts/future-work.md | 308 ++++++++++++++++++++++++++-
 2 files changed, 314 insertions(+), 2 deletions(-)
```

## Session `87108c2eâ€¦`

*2026-02-18 12:50:51 UTC â†’ 2026-02-18 13:28:21 UTC*

### ğŸ§‘ Human (12:50:51)

<command-message>bmad-party-mode</command-message>
<command-name>/bmad-party-mode</command-name>
<command-args>Great, team, we've made it this far. We have an app that serves as a solid starting point for a future release, but there is still a lot of work to do, before the app can be thrust upon musicians. I have some ideas for necessary improvements of rough edges and errors. But first I'd like to hear your assessment of the state of our app.</command-args>

### ğŸ¤– Assistant (12:50:55)

Let me load the party mode workflow and understand the project state.

### ğŸ¤– Assistant (12:51:04)

Now let me understand the current state of the Peach app so the team can give an informed assessment.

### ğŸ¤– Assistant (12:54:31)

---

ğŸ‰ **PARTY MODE ACTIVATED!** ğŸ‰

Welcome Michael! All BMAD agents are here and ready for a dynamic group discussion. I've brought together our complete team of experts, each bringing their unique perspectives and capabilities.

Your question about the state of the app is a great one â€” let me bring in the voices that matter most for this assessment.

---

ğŸ“‹ **John (Product Manager):** WHY are we shipping this? Because it fills a real gap â€” and the foundation is *solid*. Let me cut through the fluff. We've got all 7 epics closed, 19 stories delivered, zero third-party dependencies, and an adaptive algorithm that actually converges. That's not nothing. But let's be honest about what "solid starting point" means versus "ready for musicians."

The core training loop works. The adaptive difficulty works. Profile visualization works. Settings work. Localization in two languages â€” done. But here's what I keep coming back to: **we haven't validated with a single real user yet.** The seamless playback issue is a red flag â€” if users converge to sub-2-cent in Peach but plateau at 5 cents in InTune, our training might be giving musicians false confidence. That's the opposite of our "training, not testing" mission. We need to understand if we're actually *training* pitch discrimination or just training our specific task format.

The signed mean investigation (`hotfix-investigate-signed-mean`) is also more than a technical curiosity â€” it's a **product question**. If our perceptual profile can't distinguish "this person always hears sharp" from "this person has good accuracy," the profile visualization is misleading. And we're building trust on that visualization.

---

ğŸ—ï¸ **Winston (Architect):** The architecture is, frankly, in good shape for what it is. Protocol-based service layer, proper dependency injection via SwiftUI environment, clean separation of concerns. The `TrainingSession` state machine is well-bounded. Zero external dependencies is a deliberate and correct choice for an app this focused.

That said, there are things that should be addressed before this goes in front of real users:

1. **The `PerceptualProfileKey` living in `ProfileScreen.swift`** â€” this is a small thing but it's the kind of misplacement that metastasizes. It should live alongside `PerceptualProfile.swift`. The pattern is already established with `TrendAnalyzerKey`. This is a 5-minute fix that prevents confusion later.

2. **The sine wave audio source.** For a v1, it's fine â€” it's precise, deterministic, and zero-dependency. But musicians train their ears on *timbres*, not sine waves. The architecture is ready for swappable sound sources (the `NotePlayer` protocol is there), but this is likely the single biggest gap between "tech demo" and "useful tool for musicians."

3. **No persistence of the convergence chain state.** The Kazez chain resets on app restart. The `PerceptualProfile` rebuilds from stored `ComparisonRecord`s, but the current difficulty level (last cent offset) isn't persisted. That means every time a user opens the app, they're back at 100 cents until the profile bootstraps. For serious users, this is jarring.

As John noted, the seamless playback question is architecturally simple to address â€” a configurable delay between note1 and note2 in `TrainingSession` â€” but the *right* default requires user research.

---

ğŸ¨ **Sally (UX Designer):** Oh, I've been waiting to talk about this. Let me paint you a picture of our user's *journey* right now...

A musician â€” let's say a cellist â€” downloads Peach. They open the app, they see the Start Screen with a profile preview that's empty. They tap "Start Training." Two tones play back to back. They tap Higher or Lower. They get feedback. And then... it just *keeps going*. Forever. No sessions, no goals, no sense of progress within a sitting. That's the design philosophy â€” "training, not testing" â€” and I love the purity of it. But...

**Here's what worries me:**

- **Onboarding is nonexistent.** There's an Info screen, but nothing guides the user through their first comparison. Musicians aren't necessarily tech-savvy. What does the confidence band mean? What are "cents"? Most musicians know "sharp" and "flat," not "Â±12 cents."
- **The profile visualization is powerful but potentially opaque.** The piano keyboard + confidence band is gorgeous for *us*, but will a horn player intuitively understand a log-scale chart of their pitch discrimination threshold across MIDI notes? We need to translate this into language musicians actually use.
- **No sense of session or achievement.** I know we deliberately avoided gamification, but there's a difference between gamification and *acknowledgment*. Even a simple "You've trained for 5 minutes today" or "Your average threshold improved from 8 cents to 6 cents this week" would give users a reason to come back.
- **The haptic-only wrong-answer feedback** â€” on iPad there's no haptic engine. What happens there? Is there any visual reinforcement beyond the feedback indicator?

I want to be clear: the interaction design of the core loop â€” hear two notes, tap a button â€” is beautifully simple. That's a strength. But the *surrounding experience* needs to meet musicians where they are.

---

ğŸ“‹ **John** asks: Michael, you mentioned you have ideas for improvements of rough edges and errors. Before we dive into solutions, I want to understand â€” **are you thinking primarily about technical fixes (the hotfixes in the backlog), UX improvements for musician accessibility, or new features to round out the product?** Knowing your priority direction will help us focus this discussion.

_[Awaiting your response...]_

---

`[E] Exit Party Mode - End the collaborative session`

### ğŸ§‘ Human (13:01:36)

If you have any issues, we ought to address in the future, please add them to the future work document. Unless the BMAD workflow says differently, we're going to use that document to plan our next steps.

### ğŸ¤– Assistant (13:01:40)

Let me read the current future work document first.

### ğŸ¤– Assistant (13:01:49)

Good call. Let me capture all the issues the team just raised.

### ğŸ¤– Assistant (13:02:48)

Done. Now, back to the team â€”

---

ğŸ§™ **BMad Master:** The BMad Master notes that all raised issues have been duly recorded in `docs/implementation-artifacts/future-work.md`. Seven new entries added across three sections: **Technical Debt** (convergence chain persistence), **UX & Onboarding** (four items covering first-run experience, profile interpretation, session acknowledgment, and iPad haptics), and **Future Enhancements** (instrument timbres). The document is now the team's single source of truth for next steps.

---

ğŸ“‹ **John:** Good. That's the right move â€” one document, one backlog, no scattered sticky notes. Now we've got a prioritized landscape:

- **1 High priority:** Onboarding (no onboarding = no retention)
- **4 Medium priority:** Signed mean investigation, seamless playback investigation, convergence chain persistence, profile interpretation, session acknowledgment
- **2 Low priority:** Environment key extraction, iPad haptics
- **1 Medium enhancement:** Instrument timbres

That's a real planning surface. The question is still standing though â€” Michael, **what's your instinct on where to focus first?** Are we tackling the rough edges you already have in mind, or do you want the team to propose a prioritized sprint based on what we've captured?

_[Awaiting your response...]_

---

`[E] Exit Party Mode - End the collaborative session`

### ğŸ§‘ Human (13:15:20)

Let's not go into prioritization. I'd like to collect issues and ideas first.

Here's what I have

* Profile Screen
  * The graph is not helpful, even for me. We need to come up with something that can be easier understood and interpreted by users.
  * No matter what we come up with, when I tap on a point in the graph, I'd like to get detailed information about that note.
  * Maybe the profile (and the algorithm accordingly) should only ever look at the last N (20? 100?) Comparisons.
  * It came up in the initial brainstorming, but we don't yet have a way to show progress over time.
* Training Screen
  * I would like to know, at what difficulty I'm currently training. Maybe (optionally) show a display of highest difficulty achieved _in this training session_.
  * The feedback icon flickers very quickly, when the correctness of the previous answers is different from that of the current answer. I.e., if my previous answer was correct (thumbs up) and my latest answer is wrong (thumbs down), for a very short time the feedback shows the "thumbs up" icon, before switching to "thumbs down".
* Settings Screen
  * When I reset all data, the difficulty should be reset, too
* General
  * When switching to another screen while a sound is playing, there are still clicks.

### ğŸ¤– Assistant (13:15:28)

Great list. Let me capture all of these in the future work document, then the team can weigh in.

### ğŸ¤– Assistant (13:15:32)

Now let me look at the relevant source files to understand the feedback flicker bug and the audio clicks issue before documenting them precisely.

### ğŸ¤– Assistant (13:15:46)

Good. Now I have everything I need. Let me add all of Michael's items to the future work document.

### ğŸ¤– Assistant (13:16:00)

Now let me add the Profile Screen items, Training Screen items, and the bugs.

### ğŸ¤– Assistant (13:16:23)

Now add the progress-over-time item, training screen items, settings reset issue, and audio clicks bug.

### ğŸ¤– Assistant (13:16:33)

Now add the Training Screen issues and the bugs. I'll add them in appropriate sections.

### ğŸ¤– Assistant (13:16:54)

Now add the Settings reset issue and audio clicks bug. The reset issue relates to the convergence chain persistence problem â€” and the audio clicks are a new bug.

### ğŸ¤– Assistant (13:17:34)

All items are captured. Now let the team react.

---

ğŸ§™ **BMad Master:** The BMad Master has recorded all items in `docs/implementation-artifacts/future-work.md`. Eight new entries from Michael's list, integrated into the appropriate sections. The document now contains the complete inventory of known issues, ideas, and future work.

---

ğŸ’» **Amelia:** `TrainingSession.swift:249-261` â€” feedback flicker. The issue is clear. `showFeedback = false` on line 261, then `isLastAnswerCorrect` gets set on line 249 before `showFeedback = true` on line 250. SwiftUI sees the content change + opacity change as one animated transition, briefly rendering stale content. Fix: `isLastAnswerCorrect = nil` when clearing feedback at line 261. One-line fix.

`SineWaveNotePlayer.swift:120` â€” `playerNode.stop()` is a hard stop. Need a 5ms fade-out ramp on the mixer node volume before stopping. Standard `AVAudioEngine` pattern.

The reset-doesn't-clear-difficulty bug is a state coupling gap. `SettingsScreen` knows about `profile` and `trendAnalyzer` but not `TrainingSession`. Needs a notification or a shared reset coordinator.

---

ğŸ—ï¸ **Winston:** What I find interesting is how several of Michael's items are *interconnected*. The rolling window idea, the profile redesign, and the progress-over-time feature are all facets of the same fundamental question: **what is the right data model for representing a user's evolving pitch discrimination ability?**

If we move to a rolling window of N recent comparisons, Welford's incremental algorithm won't work anymore â€” you'd need to store raw values and recompute, or use a different streaming statistics approach. That's a meaningful architectural change to `PerceptualProfile`. And if we're redesigning the profile visualization anyway, we should design the data model and the visualization *together*, not sequentially.

The convergence chain persistence and the reset-clears-difficulty issues are two sides of the same coin â€” they both point to the fact that the chain state needs to be a first-class managed entity, not a transient property buried in `TrainingSession`.

---

ğŸ¨ **Sally:** I love that Michael flagged the graph as unhelpful â€” because that's exactly what a musician would say. And the tap-to-inspect idea? That's *empathy in action*. You want to touch the note and understand it. That's how musicians think â€” they think in notes, not in charts.

The difficulty display on the training screen is a great idea too. Right now the user is flying blind. Even something as simple as "4.2 cents" in small text would transform the experience from "am I doing well?" to "I *know* I'm training at 4 cents and I just got it right."

---

ğŸ“‹ **John:** Good. We now have a solid inventory â€” 20+ items across bugs, UX, algorithm design, and enhancements. Michael, when you're ready to move from collection to planning, the future work document is our starting point. Anything else you want to add to the list, or should we let it marinate?

_[Awaiting your response...]_

---

`[E] Exit Party Mode - End the collaborative session`

### ğŸ§‘ Human (13:23:28)

The list looks fine.

One more task: The README.md should allow people who come to the project without any prior knowledge to form a realistic idea and reasonable expectations. Please add a suitable note.

### ğŸ¤– Assistant (13:23:47)

---

ğŸ“š **Paige (Technical Writer):** Oh, this is right in my wheelhouse. Let me look at what the README currently communicates versus what a newcomer actually needs to know.

The README reads like a finished product â€” features list, build instructions, tech stack. But someone arriving at this repo needs to understand three things immediately: **what state is this in, can I actually use it, and what should I expect?**

The key gaps:
- No mention that this is **pre-release / in active development**
- No mention that it requires **iOS 26** â€” which is a developer beta, not something musicians have on their phones
- The features list reads as polished and complete, but several of those features have known issues (the profile visualization, for instance)
- The "Author's Note" hints at the experimental nature but doesn't set concrete expectations about app maturity

I'd suggest a concise "Project Status" section right after the intro paragraph. Honest, direct, no over-promising. Something that says "this works, this is where it's headed, this is what you'll encounter."

---

ğŸ“‹ **John:** Agreed. Underpromise, overdeliver. A newcomer should know this is a **working prototype with a solid foundation**, not a shipped product. And they need to know the iOS 26 requirement upfront â€” that's a hard filter on who can even try it.

---

Let me draft that addition.

### ğŸ¤– Assistant (13:23:57)

---

ğŸ“š **Paige:** Clean and honest. Three sentences: what state it's in, the hard requirement, and where to find what's coming. A newcomer now knows exactly what they're walking into.

ğŸ—ï¸ **Winston:** I'd note the Tech Stack section says "Swift 6.0" but we're actually on Swift 6.2.3 with strict concurrency. Minor, but if we're setting expectations for contributors, accuracy matters.

---

Good catch from Winston. Let me fix that too.

### ğŸ¤– Assistant (13:24:02)

---

ğŸ“š **Paige:** There we go. README now gives an honest, grounded picture. Anything else you'd like adjusted, Michael?

_[Awaiting your response...]_

---

`[E] Exit Party Mode - End the collaborative session`

### ğŸ§‘ Human (13:25:18)

A correction, at this time iOS 26.3 is the current, release iOS version.

### ğŸ¤– Assistant (13:25:21)

Good catch â€” let me fix that.

### ğŸ¤– Assistant (13:25:27)

---

ğŸ“š **Paige:** Fixed â€” removed the incorrect beta language. iOS 26 is current and shipping, so the requirement is simply "iOS 26+ and Xcode 26.3+." No special enrollment needed.

Anything else, Michael?

_[Awaiting your response...]_

---

`[E] Exit Party Mode - End the collaborative session`

### ğŸ§‘ Human (13:25:49)

Ok, great. Let's wrap it up.

### ğŸ¤– Assistant (13:26:09)

What a productive session, Michael! Thank you for bringing the team together â€” your hands-on observations were exactly what we needed to ground the discussion in reality.

**Before we go, a few farewells...**

---

ğŸ“‹ **John:** Solid session. We came in with a vague "assess the app" and walked out with a **concrete inventory of 20+ items** in one document, a README that doesn't oversell, and a clear separation between bugs, UX debt, and future features. That's how you turn opinions into a backlog. When you're ready to prioritize, the future work doc is waiting.

ğŸ—ï¸ **Winston:** A productive use of everyone's time. The interconnections we identified â€” rolling window affecting profile data model affecting visualization affecting algorithm â€” those are the kind of dependencies that bite you if you discover them mid-implementation instead of during planning. Good to have them on paper now. The codebase is sound; the work ahead is refinement, not repair.

ğŸ¨ **Sally:** Michael, the fact that *you* said the graph isn't helpful â€” that's the most valuable data point we collected today. You built it and you can't interpret it. That tells us everything about the redesign priority. When we get to it, let's start from what a musician *wants to know*, not what we can *technically display*. Until then â€” keep training those ears!

---

**Session Highlights:** We assessed the full state of the Peach app, captured 8 new issues from Michael's direct experience (bugs, UX gaps, design ideas), added 7 items from the team's analysis (onboarding, iPad haptics, instrument timbres, chain persistence, and more), updated the README for newcomers, and established `future-work.md` as the single planning document going forward.

---

**Party Mode Session Complete!**

All changes are in `docs/implementation-artifacts/future-work.md` and `README.md` â€” uncommitted, ready for your review. Shall I commit these?

### ğŸ§‘ Human (13:26:16)

yes

### ğŸ¤– Assistant (13:26:25)

All changes look good â€” two files modified, no secrets, no unrelated changes. Let me run the tests first per the CLAUDE.md instructions.

### ğŸ¤– Assistant (13:27:23)

All tests pass. Let me commit.

### ğŸ¤– Assistant (13:27:32)

Committed as `90d2b88`. Two files, 314 lines added â€” the full inventory from our session.

### ğŸ§‘ Human (13:28:21)

<command-name>/exit</command-name>
            <command-message>exit</command-message>
            <command-args></command-args>

### ğŸ§‘ Human (13:28:21)

<local-command-stdout>Goodbye!</local-command-stdout>

---

[â† Previous (a68a6688c9)](a68a6688c9.md) | [Index](index.md) | [Next (b792411101) â†’](b792411101.md)
