---
commit: "737d64781bb96a80df9b09ee1ad165be02242389"
date: "2026-02-25T22:20:28+01:00"
author: "Michael Sch√ºrig <michael@schuerig.de>"
subject: "Mark story 12.2 as won't do and close epics 11, 12"
sessions: ["0697f041-4c37-4d7e-bbf2-62b420602fa3"]
prev: "3b8630055f.md"
next: "b34e86df73.md"
---

[‚Üê Previous (3b8630055f)](3b8630055f.md) | [Index](index.md) | [Next (b34e86df73) ‚Üí](b34e86df73.md)

# Commit 737d64781b

**Date:** 2026-02-25 22:20:28 UTC+01:00  
**Author:** Michael Sch√ºrig <michael@schuerig.de>

## Commit message

Mark story 12.2 as won't do and close epics 11, 12

Story 12.2 (ComparisonSession PlaybackHandle Integration) is superseded
by 12.1 ‚Äî ComparisonSession already uses the simpler NotePlayer interface
(fixed-duration convenience method + stopAll) effectively.

Co-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>

## Changed files

```
docs/implementation-artifacts/sprint-status.yaml |  6 +++---
 docs/planning-artifacts/epics.md                 | 24 +++---------------------
 2 files changed, 6 insertions(+), 24 deletions(-)
```

## Session `0697f041‚Ä¶`

*2026-02-25 21:10:37 UTC ‚Üí 2026-02-25 21:20:57 UTC*

### üßë Human (21:10:37)

<command-message>bmad-agent-bmm-pm</command-message>
<command-name>/bmad-agent-bmm-pm</command-name>
<command-args>I think story 12.2 has become moot with the immplementation in 12.1. ComparisonSession should continue to use of the simpler interface for playing and stopping notes, that's exactly its purpose.</command-args>

### ü§ñ Assistant (21:10:53)

Hey Michael! Welcome back.

I see you've come in with a specific point about **Story 12.2** ‚Äî that it's become moot after the 12.1 implementation. Before I dig into that, let me ask: what exactly was 12.2 supposed to deliver, and what did 12.1 end up covering that makes it redundant?

I want to make sure we're not accidentally dropping scope that matters just because the implementation *looks* like it covers it. Sometimes a story gets "done by accident" but the acceptance criteria tell a different story.

That said ‚Äî if ComparisonSession is already using the simpler play/stop interface and that's the right abstraction for its purpose, then yeah, we shouldn't be adding complexity for complexity's sake. Ship the smallest thing that validates the assumption.

Want me to pull up both stories so we can do a proper gap analysis? Or do you want to just chat this through?

---

Here's what I can help you with:

1. **[MH]** Redisplay Menu Help
2. **[CH]** Chat with the Agent about anything
3. **[CP]** Create PRD
4. **[EP]** Edit PRD
5. **[VP]** Validate PRD
6. **[CE]** Create Epics and Stories
7. **[IR]** Implementation Readiness
8. **[CC]** Course Correction
9. **[PM]** Start Party Mode
10. **[DA]** Dismiss Agent

You can also type `/bmad-help` anytime to get advice on what to do next ‚Äî e.g. `/bmad-help where should I start with an idea I have that does XYZ`

What would you like to do?

### üßë Human (21:12:44)

Just read the short story overviews in epics.md

### ü§ñ Assistant (21:13:09)

Alright, here's what we're looking at:

**Story 12.1: PlaybackHandle Protocol and NotePlayer Redesign** ‚Äî Redesign the audio layer around a `PlaybackHandle` pattern where callers own the notes they start, supporting both fixed-duration and indefinite playback with explicit lifecycle management.

**Story 12.2: ComparisonSession PlaybackHandle Integration** ‚Äî Have `ComparisonSession` use `PlaybackHandle` for note lifecycle management, holding a `currentHandle` property and calling `currentHandle?.stop()` on interruptions.

Now here's what jumps out at me. Story 12.2 says:

> *"When the fixed-duration convenience method is used for normal playback, no handle tracking is needed (the convenience method manages its own handle)"*

And then the only other AC is about `stop()` calling `currentHandle?.stop()` on interruptions.

So the real question is: **Does ComparisonSession currently use the fixed-duration convenience method for normal playback, and does its `stop()` already handle cleanup properly after 12.1?**

If 12.1 gave `NotePlayer` a convenience method that internally manages the handle ‚Äî and `ComparisonSession` uses that + already has a working stop mechanism ‚Äî then yeah, 12.2 is adding complexity (handle tracking in `ComparisonSession`) that the story itself says *isn't needed* for the convenience path.

Want me to look at the actual implementation to confirm, or is your read that this is exactly the case?

### üßë Human (21:15:46)

This is already the case, but convince yourself. We have introduced NotePlayer.stopAll() to stop all playback. There's no need to bother ComparisonSession with the complexity of PlaybackHandles.

### ü§ñ Assistant (21:16:17)

Alright, I'm convinced. Here's what I see:

**ComparisonSession is already clean.** It uses exactly two things from `NotePlayer`:

1. **`play(frequency:duration:velocity:amplitudeDB:)`** ‚Äî the fixed-duration convenience method for normal note playback. The handle lifecycle is entirely hidden inside the default implementation.
2. **`stopAll()`** ‚Äî the "panic button" for interruption cleanup. Simple, direct, no handle tracking needed.

That's exactly the right abstraction level for `ComparisonSession`. Its job is orchestrating comparisons, not managing audio note lifecycles. Introducing `currentHandle` tracking would be **added complexity with zero added value** ‚Äî `stopAll()` already covers the interruption case, and the convenience method already covers normal playback.

**My recommendation: Mark Story 12.2 as "Won't Do / Superseded by 12.1."**

The rationale:
- 12.1 delivered `stopAll()` which wasn't in the original 12.2 design ‚Äî it's a simpler and more robust interruption mechanism
- 12.2's acceptance criteria are either already satisfied (cleanup works) or counterproductive (adding handle tracking to `ComparisonSession` when the convenience method deliberately hides it)
- Forcing `PlaybackHandle` into `ComparisonSession` would violate the very design intent of the convenience method

Want me to update the epics document to mark 12.2 accordingly?

### üßë Human (21:17:09)

yes, update it

### ü§ñ Assistant (21:17:36)

Done. Story 12.2 is now marked as **"Won't Do ‚Äî Superseded by Story 12.1"** with a clear rationale documenting *why* the handle-based approach is unnecessary given `stopAll()` and the convenience method.

Anything else you want to address in the backlog, Michael?

### üßë Human (21:18:21)

Yes, there are some epics in epics.md whose stories are all marked as done. Those epics need to be marked as done themselves.

### ü§ñ Assistant (21:18:28)

Let me check how stories are currently marked as done in this file.

### ü§ñ Assistant (21:18:34)

I don't see explicit "Done" markers on stories. Let me check the commit history to see which stories have been implemented.

### ü§ñ Assistant (21:18:41)

Now let me check how epics are currently marked as done ‚Äî I saw "close Epic 7" in a commit.

### ü§ñ Assistant (21:18:45)

No epic is currently marked as done in the document itself. Let me check the sprint status file to see what's tracked there, and also read the epic sections to understand which stories are all completed.

### ü§ñ Assistant (21:19:07)

Clear picture. From `sprint-status.yaml`:

- **Epic 11** ‚Äî `in-progress`, but its only story (11.1) is `done`
- **Epic 12** ‚Äî `in-progress`, 12.1 is `done`, 12.2 is still listed as `backlog` (needs to reflect the Won't Do)

Both should be marked `done`. Let me update the sprint status.

### ü§ñ Assistant (21:19:15)

Done. Updated `sprint-status.yaml`:

- **Epic 11**: `in-progress` ‚Üí `done`
- **Epic 12**: `in-progress` ‚Üí `done`
- **Story 12.2**: `backlog` ‚Üí `wont-do` with rationale

Those were the only two epics with all stories completed but the epic itself still open. Epics 1‚Äì10 were already marked `done`, and Epics 13‚Äì18 haven't started yet.

Anything else you want to clean up in the backlog, Michael?

### üßë Human (21:20:18)

commit this

### ü§ñ Assistant (21:20:30)

Committed as `737d647`. Clean working tree, one commit ahead of origin.

Anything else, Michael?

### üßë Human (21:20:57)

<command-name>/exit</command-name>
            <command-message>exit</command-message>
            <command-args></command-args>

### üßë Human (21:20:57)

<local-command-stdout>Goodbye!</local-command-stdout>

---

[‚Üê Previous (3b8630055f)](3b8630055f.md) | [Index](index.md) | [Next (b34e86df73) ‚Üí](b34e86df73.md)
