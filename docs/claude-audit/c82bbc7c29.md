---
commit: "c82bbc7c291a73d38224e297fcb66e80df307ddf"
date: "2026-02-28T23:06:39+01:00"
author: "Michael Sch√ºrig <michael@schuerig.de>"
subject: "Fix Epic 22 story numbering collision (insert completed 22.2, renumber 22.3‚Äì22.5)"
sessions: ["ff90cece-414b-4519-8d80-572de1c96419"]
prev: "819996a0cd.md"
next: "a20bd35147.md"
---

[‚Üê Previous (819996a0cd)](819996a0cd.md) | [Index](index.md) | [Next (a20bd35147) ‚Üí](a20bd35147.md)

# Commit c82bbc7c29

**Date:** 2026-02-28 23:06:39 UTC+01:00  
**Author:** Michael Sch√ºrig <michael@schuerig.de>

## Commit message

Fix Epic 22 story numbering collision (insert completed 22.2, renumber 22.3‚Äì22.5)

Co-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>

## Changed files

```
docs/implementation-artifacts/sprint-status.yaml | 12 +++------
 docs/planning-artifacts/epics.md                 | 33 +++++++++++++++++++++---
 2 files changed, 33 insertions(+), 12 deletions(-)
```

## Session `ff90cece‚Ä¶`

*2026-02-28 21:55:41 UTC ‚Üí 2026-02-28 22:06:43 UTC*

### üßë Human (21:55:41)

<command-message>bmad-agent-bmm-pm</command-message>
<command-name>/bmad-agent-bmm-pm</command-name>
<command-args>I think there's been a mixup with story numbering after an intense architecture discussion and revising of upcoming stories. We already have a story 22.2 that is implemented. However, there also is a new story 22.2. Really, this story needs to be moved up to 22.3 and all further stories in epic 22 need to be moved up accordingly.</command-args>

### ü§ñ Assistant (21:56:35)

Let me look at the actual epics file to see the current numbering situation.

### ü§ñ Assistant (21:57:31)

Hey Michael! Good catch flagging this numbering collision.

Let me break down what I see:

**Current state in `epics.md`:**
- 22.1: Migrate FrequencyCalculation to Domain Types
- 22.2: Introduce DetunedMIDINote and Two-World Architecture *(new, from architecture revision)*
- 22.3: Unified Reference/Target Naming
- 22.4: Extract SoundSourceProvider Protocol

**But we also have an already-implemented story 22.2:**
- 22.2: Domain Type Documentation and API Cleanup ‚Äî **DONE** (implementation artifact exists at `docs/implementation-artifacts/22-2-domain-type-documentation-and-api-cleanup.md`)

It looks like the revision commit (`a20bd35 Revise Epic 22-23 stories for two-world architecture`) overwrote the old 22.2 with the new DetunedMIDINote story, effectively erasing the completed story from the epic listing.

**The fix I'd recommend:**
1. Re-insert the completed "22.2: Domain Type Documentation and API Cleanup" (status: DONE) back into `epics.md`
2. Renumber "Introduce DetunedMIDINote and Two-World Architecture" ‚Üí **22.3**
3. Renumber "Unified Reference/Target Naming" ‚Üí **22.4**
4. Renumber "Extract SoundSourceProvider Protocol" ‚Üí **22.5**

This preserves the historical record and keeps the implementation artifact filename (`22-2-...`) consistent.

Want me to go ahead and make these changes to `epics.md`? I'll need to reconstruct the original 22.2 story text from the implementation artifact, or I can write a concise summary version with a DONE marker. Which do you prefer?

---

**Menu:**
1. **[MH]** Redisplay Menu Help
2. **[CH]** Chat with the Agent about anything
3. **[CP]** Create PRD
4. **[VP]** Validate PRD
5. **[EP]** Edit PRD
6. **[CE]** Create Epics and Stories
7. **[IR]** Implementation Readiness
8. **[CC]** Course Correction
9. **[PM]** Start Party Mode
10. **[DA]** Dismiss Agent

You can type `/bmad-help` at any time for guidance on what to do next.

### üßë Human (22:00:57)

Go ahead, but do not reconstruct anything. You can get the previous version from git before it was overwritten.

### ü§ñ Assistant (22:01:00)

Smart ‚Äî let me grab the original story text from git history before the revision commit overwrote it.

### ü§ñ Assistant (22:01:43)

Interesting ‚Äî story 22.2 "Domain Type Documentation and API Cleanup" was never actually in `epics.md`. It only exists as an implementation artifact. Let me verify this is the case.

### ü§ñ Assistant (22:02:30)

Michael, here's what I found ‚Äî it's slightly different from what we assumed:

**Story 22.2 "Domain Type Documentation and API Cleanup" was never added to `epics.md`.** It only exists as an implementation artifact (`docs/implementation-artifacts/22-2-...`). It was implemented as an interstitial story between 22.1 and the original 22.2.

The revision commit (`a20bd35`) then inserted the new "DetunedMIDINote" story as 22.2, pushing the old 22.2 ("Unified Reference/Target Naming") to 22.3, and dropping the old 22.3 ("NotePlayer Protocol Takes Pitch") entirely.

So the fix is:
1. Insert story 22.2 "Domain Type Documentation and API Cleanup" into `epics.md` (using the text from the implementation artifact, marked DONE)
2. Renumber "Introduce DetunedMIDINote" from 22.2 ‚Üí **22.3**
3. Renumber "Unified Reference/Target Naming" from 22.3 ‚Üí **22.4**
4. Renumber "Extract SoundSourceProvider Protocol" from 22.4 ‚Üí **22.5**

Let me pull the story text from the implementation artifact and make the edits.

### ü§ñ Assistant (22:02:33)

Now I need to convert the implementation artifact format to the epics.md story format and insert it. Let me also check the exact format of story 22.1 in epics.md to match the style.

### ü§ñ Assistant (22:02:49)

Now I'll make the edits. First, insert the completed story 22.2 after story 22.1, then renumber the rest.

### ü§ñ Assistant (22:03:52)

Now let me verify the result looks correct.

### ü§ñ Assistant (22:03:58)

Done. Here's the updated Epic 22 story numbering:

| # | Story | Status |
|---|-------|--------|
| 22.1 | Migrate FrequencyCalculation to Domain Types | DONE |
| 22.2 | Domain Type Documentation and API Cleanup | DONE |
| 22.3 | Introduce DetunedMIDINote and Two-World Architecture | Planned |
| 22.4 | Unified Reference/Target Naming | Planned |
| 22.5 | Extract SoundSourceProvider Protocol | Planned |

I also need to check ‚Äî are there any references to the old story numbers (22.2, 22.3, 22.4) elsewhere in the docs that need updating?

### ü§ñ Assistant (22:04:11)

Found two cross-references that need updating.

### ü§ñ Assistant (22:04:17)

The other reference is in `docs/implementation-artifacts/21-3-...md` ‚Äî a historical dev note that still uses the pre-revision numbering. That's a record of what was planned at the time of implementation, so I'd leave that as historical context rather than retroactively editing it. Agreed, or do you want me to update that one too?

### üßë Human (22:05:50)

leave it, that's historical. commit this.

### ü§ñ Assistant (22:06:43)

Committed as `7abd31c`. Epic 22 numbering is now clean ‚Äî completed 22.2 restored, new stories renumbered 22.3‚Äì22.5, and the cross-reference in Epic 23 updated.

---

[‚Üê Previous (819996a0cd)](819996a0cd.md) | [Index](index.md) | [Next (a20bd35147) ‚Üí](a20bd35147.md)
